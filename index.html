<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">
    <!-- Custom CSS: none yet -->
    <link rel="stylesheet" href="./css/customStyle.css">
    <!-- Import font family -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <title>PizzAcademy</title>
  </head>
  <body>
    <!-- Jumbotron -->
    <div class="jumbotron jumbotron-fluid bg-primary text-white">
      <div class="container">
        <h1 class="display-4">Welcome to PizzAcademy!</h1>
        <p class="lead">Simple menu, painless ordering, fast delivery!</p>
      </div>
    </div>
    <!-- End jumbotron -->

    <!-- Jumbotron -->
    <div class="jumbotron jumbotron-fluid bg-light text-black" id="sticky-bar">
      <div class="container">
        <h3 class="display-6">Check out our menu below or start your order now!</h3>
        <button type="button" class="btn btn-outline-success" onclick="initCheck();" data-toggle="modal" data-target="#exampleModalLong">Begin Order!</button>
      </div>
    </div>
    <!-- End jumbotron -->

    <div id="cardContainer">
      <!-- Size options -->
      <div class="card" style="width: 33%;">
        <!-- <img class="card-img-top" src=".../100px180/?text=Image cap" alt="Card image cap"> -->
        <div class="card-body">
          <h5 class="card-title">Pizza Sizes:</h5>
          <p class="card-text">All pizzas come in 4 sizes. Their prices are listed next to each option.</p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item"><span>Personal</span><span>6</span></li>
          <li class="list-group-item"><span>Medium</span><span>10</span></li>
          <li class="list-group-item"><span>Large</span><span>14</span></li>
          <li class="list-group-item"><span>Extra Large</span>16<span></span></li>
        </ul>
      </div>
      <!-- End Size Options -->
    <!-- Sauce Options -->
    <div class="card" style="width: 18rem;">
      <!-- <img class="card-img-top" src=".../100px180/?text=Image cap" alt="Card image cap"> -->
      <div class="card-body">
        <h5 class="card-title">Sauces:</h5>
        <p class="card-text">We offer 3 different sauce options - each is complementary.</p>
      </div>
      <ul class="list-group list-group-flush">
        <li class="list-group-item">Marinara</li>
        <li class="list-group-item">White</li>
        <li class="list-group-item">Barbeque</li>
        <li class="list-group-item">None</li>
      </ul>
    </div>
    <!-- End Sauce Options -->
      <!-- Cheese Options -->
      <div class="card" style="width: 18rem;">
        <!-- <img class="card-img-top" src=".../100px180/?text=Image cap" alt="Card image cap"> -->
        <div class="card-body">
          <h5 class="card-title">Cheese Options:</h5>
          <p class="card-text">We like to keep this part simple!</p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">Regular</li>
          <li class="list-group-item">Extra Cheese (+3.00)</li>
          <li class="list-group-item">None</li>
        </ul>
      </div>
      <!-- End Cheese Options -->
      <!-- Crust Options -->
      <div class="card" style="width: 18rem;">
        <!-- <img class="card-img-top" src=".../100px180/?text=Image cap" alt="Card image cap"> -->
        <div class="card-body">
          <h5 class="card-title">Crusts:</h5>
          <p class="card-text">We offer 5 different crust options - only the Cheese Stuffed Crust is an additional $3.00</p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">Plain</li>
          <li class="list-group-item">Garlic Butter</li>
          <li class="list-group-item">Spicy</li>
          <li class="list-group-item">Cheese Stuffed (+$3.00)</li>
          <li class="list-group-item">House Special</li>
        </ul>
      </div>
      <!-- End Crust Options -->
      <!-- Meat Options -->
      <div class="card" style="width: 18rem;">
        <!-- <img class="card-img-top" src=".../100px180/?text=Image cap" alt="Card image cap"> -->
        <div class="card-body">
          <h5 class="card-title">Meat Options:</h5>
          <p class="card-text">We offer 6 different meat options to choose from. The first one is complementary - additional selection is $1.00 each.</p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">Pepperoni</li>
          <li class="list-group-item">Sausage</li>
          <li class="list-group-item">Canadian Bacon</li>
          <li class="list-group-item">Ground Beef</li>
          <li class="list-group-item">Anchovy</li>
          <li class="list-group-item">Chicken</li>
          <li class="list-group-item">None</li>
        </ul>
      </div>
      <!-- End Meat Options -->
      <!-- Veggie Options -->
      <div class="card" style="width: 18rem;">
        <!-- <img class="card-img-top" src=".../100px180/?text=Image cap" alt="Card image cap"> -->
        <div class="card-body">
          <h5 class="card-title">Meat Options:</h5>
          <p class="card-text">We offer 6 different meat options to choose from. The first one is complementary - additional selection is $1.00 each.</p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">Tomatoes</li>
          <li class="list-group-item">Onions</li>
          <li class="list-group-item">Green Onions</li>
          <li class="list-group-item">Mushrooms</li>
          <li class="list-group-item">Pineapple</li>
          <li class="list-group-item">Spinach</li>
          <li class="list-group-item">Jalapenos</li>
          <li class="list-group-item">None</li>
        </ul>
      </div>
    </div>

    <!-- Button trigger modal -->
    <!-- <button type="button" class="btn btn-outline-success" onclick="meatCheck();"  -->
    <!-- data-toggle="modal" data-target="#exampleModalLong">Begin Order!</button> -->

    <!-- Modal -->
    <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Let's start your order!</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            Let's start your pizza order - simply pick options you'd like:
          </div>

          <div class="modal-body" id="size" onchange="initCheck()">
            <!-- Pizza Sizes -->
            <div class="modal-body">
              Pizza Sizes
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="size" id="personal" value="Personal_6" checked>
              <label class="form-check-label" for="exampleRadios1">
              Personal ($6)
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="size" id="med" value="Medium_10">
              <label class="form-check-label" for="exampleRadios2">
              Medium ($10)
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="size" id="large" value="Large_14">
              <label class="form-check-label" for="exampleRadios2">
              Large ($14)
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="size" id="xl" value="Extra Large_16">
              <label class="form-check-label" for="exampleRadios2">
              Extra-Large ($16)
              </label>
            </div>
          </div>
          <!-- End Pizza Sizes -->
          <!-- Crust Selection -->
          <div class="modal-body" id="crust" onchange="initCheck()">
            <div class="modal-body">
              Crust Types
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="crust"
              id="plain" value="Plain_0" checked>
              <label class="form-check-label" for="exampleRadios1">
              Plain (+$0)
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="crust"
              id="garlic" value="Garlic Butter_0">
              <label class="form-check-label" for="exampleRadios2">
              Garlic Butter (+$0)
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="crust" id="cheese" value="Cheese Stuffed_3">
              <label class="form-check-label" for="exampleRadios2">
              Cheese Stuffed
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="crust" id="spicy" value="Spicy_0">
              <label class="form-check-label" for="exampleRadios2">
              Spicy (+$0)
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="crust" id="house" value="House Special_0">
              <label class="form-check-label" for="exampleRadios2">
              House Special (+$0)
              </label>
            </div>
          </div>
          <!-- End Crust Selection -->
          <!-- Sauce Selection -->
          <div class="modal-body" id="sauce" onchange="initCheck()">
            <div class="modal-body">
              Sauces
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="sauce"
              id="bbq" value="BBQ_0" checked>
              <label class="form-check-label" for="exampleRadios1">
              BBQ (+$0)
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="sauce"
              id="marinara" value="Marinara_0">
              <label class="form-check-label" for="exampleRadios1">
              Marinara (+$0)
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="sauce"
              id="white" value="White_0">
              <label class="form-check-label" for="exampleRadios1">
              White (+$0)
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="sauce"
              id="none" value="None_0" checked>
              <label class="form-check-label" for="exampleRadios1">
              None  (+$0)
              </label>
            </div>
          </div>
          <!-- End Sauce Selection -->
          <!-- Cheese Selection -->
          <div class="modal-body" id="cheese" onchange="initCheck()">
            <div class="modal-body">
              Cheese
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="cheese"
              id="reg" value="Regular_0" checked>
              <label class="form-check-label" for="exampleRadios1">
              Regular ($0)
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="cheese"
              id="xcheese" value="Extra Cheese_3">
              <label class="form-check-label" for="exampleRadios1">
              Extra Cheese (+$3)
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="cheese"
              id="none" value="None_0" checked>
              <label class="form-check-label" for="exampleRadios1">
              No Cheese ($0)
              </label>
            </div>
          </div>
          <!-- End Cheese Selection -->
          <!-- Veggie Selection -->
          <div class="modal-body" id="veggies" onchange="initCheck()">
            <div class="modal-body">
              Vegetable Toppings
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="veggies" value="Tomatoes" id="tomatoes">
              <label class="form-check-label" for="defaultCheck1">
                Tomatoes
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="veggies" value="Onions" id="onions">
              <label class="form-check-label" for="defaultCheck1">
                Onions
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="veggies" value="Green Peppers" id="greenp">
              <label class="form-check-label" for="defaultCheck1">
                Green Peppers
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="veggies" value="Mushrooms" id="mushrooms">
              <label class="form-check-label" for="defaultCheck1">
                Mushrooms
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="veggies" value="Pineapple" id="pineapple">
              <label class="form-check-label" for="defaultCheck1">
                Pineapples
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="veggies" value="Spinach" id="spinach">
              <label class="form-check-label" for="defaultCheck1">
                Spinach
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="veggies" value="Jalapenos" id="jalap">
              <label class="form-check-label" for="defaultCheck1">
                Jalapenos
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="veggies" value="none" id="veggienone">
              <label class="form-check-label" for="defaultCheck1">
                No Veggies
              </label>
            </div>
          </div>
          <!-- End Veggie Selection -->
          <!-- Meat Selection -->
          <div class="modal-body" id="meats" onchange="initCheck()">
            <div class="modal-body">
              Meat Toppings
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="meats" value="Pepperoni" id="pepperoni">
              <label class="form-check-label" for="defaultCheck1">
                Pepperoni
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="meats" value="Sausage" id="sausage">
              <label class="form-check-label" for="defaultCheck1">
                Sausage
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="meats" value="Canadian Bacon" id="bacon">
              <label class="form-check-label" for="defaultCheck1">
                Canadian Bacon
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="meats" value="Ground Beef" id="beef">
              <label class="form-check-label" for="defaultCheck1">
                Ground Beef
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="meats" value="Anchovy" id="anchovy">
              <label class="form-check-label" for="defaultCheck1">
                Anchovy
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="meats" value="Chicken" id="chicken">
              <label class="form-check-label" for="defaultCheck1">
                Chicken
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="meats" value="None" id="nomeat">
              <label class="form-check-label" for="defaultCheck1">
                No Meat
              </label>
            </div>
          </div>
          <!-- End Meat Selection -->
          <div class="modal-body">
            Your Receipt is Shown Below
          </div>

          <div class="modal-body" id="">
            <table class="table table-sm table-dark">
              <thead>
                <tr>
                  <th scope="col"></th>
                  <th scope="col">Options Selected</th>
                  <th scope="col">Subtotal</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">Size</th>
                  <td id="rSize"></td>
                  <td id="rSizeSubtotal"></td>
                </tr>
                <tr>
                  <th scope="row">Crust</th>
                  <td id="rCrust"></td>
                  <td id="rCrustSubTotal"></td>
                </tr>
                <tr>
                  <th scope="row">Sauce</th>
                  <td id="rSauce"></td>
                  <td id="rSauceSubtotal"></td>
                </tr>
                <tr>
                  <th scope="row">Cheese</th>
                  <td id="rCheese"></td>
                  <td id="rCheeseSubtotal"></td>
                </tr>
                <tr>
                  <th scope="row">Veggies</th>
                  <td id="rVeggies"></td>
                  <td id="rVeggieSubTotal"></td>
                </tr>
                <tr>
                  <th scope="row">Meats</th>
                  <td id="rMeats"></td>
                  <td id="rMeatSubTotal"></td>
                </tr>
                <tr>
                  <th scope="row">Total</th>
                  <td></td>
                  <td id="rTotal"></td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
            <button type="button" class="btn btn-primary" onclick="confirMessage()" data-dismiss="modal">Submit Order!</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Optional JavaScript (from Bootstrap template) -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>

    <script>

      function initCheck(){
        var size = updateSize();
        var sizeSubTotal = Number( size.split('_').pop() );
        document.getElementById('rSize').innerHTML = size.split('_')[0];
        document.getElementById('rSizeSubtotal').innerHTML = sizeSubTotal;
        var crust = updateCrust();
        var crustSubTotal = Number( crust.split('_').pop() );
        document.getElementById('rCrust').innerHTML = crust.split('_')[0];
        document.getElementById('rCrustSubTotal').innerHTML = crustSubTotal;
        var cheese = updateCheese();
        var cheeseSubTotal = Number( cheese.split('_').pop() );
        document.getElementById('rCheese').innerHTML = cheese.split('_')[0];
        document.getElementById('rCheeseSubtotal').innerHTML = cheeseSubTotal;
        var sauce = updateSauce();
        var sauceSubTotal = Number( sauce.split('_').pop() );
        document.getElementById('rSauce').innerHTML = sauce.split('_')[0];
        document.getElementById('rSauceSubtotal').innerHTML = sauceSubTotal;
        var meats = meatCheck();
        var meatOrdered = meats.join(', ');
        var meatSubTotal = meats.length - 1;
        document.getElementById('rMeats').innerHTML = meatOrdered;
        document.getElementById('rMeatSubTotal').innerHTML = meatSubTotal;
        var veggies = veggieCheck();
        var veggiesOrdered = veggies.join(', ');
        var veggieSubTotal = veggies.length - 1;
        document.getElementById('rVeggies').innerHTML = veggiesOrdered;
        document.getElementById('rVeggieSubTotal').innerHTML = veggieSubTotal;
        document.getElementById('rTotal').innerHTML = sizeSubTotal+crustSubTotal+cheeseSubTotal+sauceSubTotal+meatSubTotal+veggieSubTotal;
        // creating a class for fun/practice
        // var clientOrder = new pizzaOrder(size, crust, sauce, cheese, meatOrdered, veggiesOrdered, 0);
      }

      function confirMessage(){
        alert("Your order has been submitted successfully!");
      }

      function updateSize(){
        var size = document.querySelector('input[name="size"]:checked').value;
        var sizeSubTotal = Number( size.split('_').pop() );
        console.log(sizeSubTotal);
        return size;
        // test.innerHTML = sizeSubTotal;
      }

      function updateCrust(){
        var crust = document.querySelector('input[name="crust"]:checked').value;
        var crustSubTotal = Number( crust.split('_').pop() );
        console.log(crustSubTotal);
        return crust;
        // test.innerHTML = crustSubTotal;
      }

      function updateSauce(){
        var sauce = document.querySelector('input[name="sauce"]:checked').value;
        var sauceSubTotal = sauce.split('_').pop();
        // test.innerHTML = sauceSubTotal;
        console.log(sauceSubTotal);
        return sauce;
      }

      function updateCheese(){
        var cheese = document.querySelector('input[name="cheese"]:checked').value;
        var cheeseSubTotal = cheese.split('_').pop();
        // test.innerHTML = cheeseSubTotal;
        console.log(cheeseSubTotal);
        return cheese;
      }

      function veggieCheck(){
        var veggies = document.querySelectorAll('input[name="veggies"]:checked');
        // if no option checked force no meat to be checked
        if (veggies.length === 0){
          document.getElementById('veggienone').checked = true;
        }
        else if (veggies.length === 1) {
          // if one item checked and if it's not "no meat" keep it unchecked
          if (document.getElementById('veggienone').checked === false) {
            document.getElementById('veggienone').checked = false;
          }
          else {
            document.getElementById('veggienone').checked = true;
          }
        }
        // if more than 1 item checked, force no meat to be unchecked
        else {
          document.getElementById('veggienone').checked = false;
        }
        var veggies = document.querySelectorAll('input[name="veggies"]:checked');
        var whichVeggies = new Array(veggies.length);
        for (var i = 0; i < veggies.length; i++) {
          whichVeggies[i] = veggies[i].value;
          // console.log(whichVeggies.join(", "));
        }
        return whichVeggies;
      }

      function meatCheck(){
        var meats = document.querySelectorAll('input[name="meats"]:checked');
        // if no option checked force no meat to be checked
        if (meats.length === 0){
          document.getElementById('nomeat').checked = true;
        }
        else if (meats.length === 1) {
          // if one item checked and if it's not "no meat" keep it unchecked
          if (document.getElementById('nomeat').checked === false) {
            document.getElementById('nomeat').checked = false;
          }
          else {
            document.getElementById('nomeat').checked = true;
          }
        }
        // if more than 1 item checked, force no meat to be unchecked
        else {
          document.getElementById('nomeat').checked = false;
        }
        var meats = document.querySelectorAll('input[name="meats"]:checked');
        var whichMeats = new Array(meats.length);
        for (var i = 0; i < meats.length; i++) {
          whichMeats[i] = meats[i].value;
          console.log(whichMeats[i]);
        }
        var meatSubTotal = whichMeats.length;
        console.log(meatSubTotal);
        return whichMeats;
      }

      function showTotal(sizeSubTotal,crustSubTotal,sauceSubTotal,cheeseSubTotal,meatSubTotal,veggieSubTotal){
        var total = Number( sizeSubTotal ) + Number( crustSubTotal ) + Number( sauceSubTotal ) + Number( cheeseSubTotal ) + Number( meatSubTotal ) + Number( veggieSubTotal );
        return total;
      }

      class pizzaOrder{
          constructor(size, crust, sauce, cheeses, meats, veggies, total){
              this.size = size;
              this.crust = crust;
              this.sauce = sauce;
              this.cheeses = cheeses;
              this.meats = meats;
              this.veggies = veggies;
              this.total = total;
          }
      }

    </script>
  </body>
</html>
